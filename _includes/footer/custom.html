<!-- start custom footer snippets -->

<a href="/sitemap/">Sitemap</a>

<!-- Support for MatJax -->
<script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
<script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" id="MathJax-script"></script>

<!-- Support for Plotly -->
<script defer src='https://cdnjs.cloudflare.com/ajax/libs/plotly.js/3.0.1/plotly.min.js'></script>

<!-- Support for Mermaid -->
<script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
    mermaid.initialize({startOnLoad:true, theme:'default'});
    await mermaid.run({querySelector:'code.language-mermaid'});
</script>

<!-- ======== 文字版访问量 + 阅读量 ======== -->
<div style="text-align:center; margin-top:15px; font-size:0.9rem; color:#555;">
  Visitors：<span id="total-visits">Loading...</span>
  &nbsp;|&nbsp;
  Profile Views：<span id="page-views">Loading...</span>
</div>

<script>
  (function() {
    const base = "https://api.countapi.xyz";
    const namespace = "haowu1701_github_io";  // 可以理解为这个站点的“命名空间”

    // ---- 1) 网站总访问量 ----
    fetch(`${base}/hit/${namespace}/total`)
      .then(res => res.json())
      .then(data => {
        document.getElementById("total-visits").textContent = data.value;
      })
      .catch(err => {
        console.error("Total visits error:", err);
        document.getElementById("total-visits").textContent = "N/A";
      });

    // ---- 2) 本页阅读次数（按 URL 路径区分）----
    const pageKey = encodeURIComponent(window.location.pathname || "home");

    fetch(`${base}/hit/${namespace}/${pageKey}`)
      .then(res => res.json())
      .then(data => {
        document.getElementById("page-views").textContent = data.value;
      })
      .catch(err => {
        console.error("Page views error:", err);
        document.getElementById("page-views").textContent = "N/A";
      });
  })();
</script>


<!-- end custom footer snippets -->
